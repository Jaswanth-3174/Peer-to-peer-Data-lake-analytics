{"ast":null,"code":"var _jsxFileName = \"E:\\\\P2P_DataLake\\\\frontend\\\\src\\\\components\\\\PeerManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PeerManager = ({\n  peers,\n  selectedPeers,\n  onPeerToggle\n}) => {\n  _s();\n  const [peerStatus, setPeerStatus] = useState({});\n  useEffect(() => {\n    // Check peer status\n    checkPeerStatus();\n    const interval = setInterval(checkPeerStatus, 10000); // Check every 10 seconds\n    return () => clearInterval(interval);\n  }, [peers]);\n  const checkPeerStatus = async () => {\n    const status = {};\n    for (const peer of peers) {\n      try {\n        const response = await fetch(`${peer}/health`, {\n          timeout: 5000\n        });\n        status[peer] = response.ok ? 'online' : 'offline';\n      } catch (error) {\n        status[peer] = 'offline';\n      }\n    }\n    setPeerStatus(status);\n  };\n  const getPeerInfo = peer => {\n    const port = peer.split(':')[2];\n    return {\n      name: `Peer ${parseInt(port) - 8000}`,\n      port: port,\n      url: peer\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mb-4 text-gray-800\",\n      children: \"Peer Network\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: peers.map(peer => {\n        const info = getPeerInfo(peer);\n        const isSelected = selectedPeers.includes(peer);\n        const status = peerStatus[peer] || 'checking';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `border rounded-lg p-3 cursor-pointer transition-all ${isSelected ? 'border-primary-500 bg-primary-50' : 'border-gray-200 hover:border-gray-300'}`,\n          onClick: () => onPeerToggle(peer),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: isSelected,\n                onChange: () => onPeerToggle(peer),\n                className: \"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-gray-900\",\n                  children: info.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Port: \", info.port]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${status === 'online' ? 'bg-green-100 text-green-800' : status === 'offline' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `w-2 h-2 rounded-full mr-1 ${status === 'online' ? 'bg-green-400' : status === 'offline' ? 'bg-red-400' : 'bg-yellow-400'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this), status === 'checking' ? 'Checking...' : status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)\n        }, peer, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 bg-gray-50 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Selected Peers:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: selectedPeers.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Online Peers:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-green-600\",\n            children: Object.values(peerStatus).filter(s => s === 'online').length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(PeerManager, \"7KmAzTwN8iKRgNWYJbmty9VqXoo=\");\n_c = PeerManager;\nexport default PeerManager;\nvar _c;\n$RefreshReg$(_c, \"PeerManager\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","PeerManager","peers","selectedPeers","onPeerToggle","_s","peerStatus","setPeerStatus","checkPeerStatus","interval","setInterval","clearInterval","status","peer","response","fetch","timeout","ok","error","getPeerInfo","port","split","name","parseInt","url","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","info","isSelected","includes","onClick","type","checked","onChange","length","Object","values","filter","s","_c","$RefreshReg$"],"sources":["E:/P2P_DataLake/frontend/src/components/PeerManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst PeerManager = ({ peers, selectedPeers, onPeerToggle }) => {\r\n  const [peerStatus, setPeerStatus] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Check peer status\r\n    checkPeerStatus();\r\n    const interval = setInterval(checkPeerStatus, 10000); // Check every 10 seconds\r\n    return () => clearInterval(interval);\r\n  }, [peers]);\r\n\r\n  const checkPeerStatus = async () => {\r\n    const status = {};\r\n    \r\n    for (const peer of peers) {\r\n      try {\r\n        const response = await fetch(`${peer}/health`, {\r\n          timeout: 5000\r\n        });\r\n        status[peer] = response.ok ? 'online' : 'offline';\r\n      } catch (error) {\r\n        status[peer] = 'offline';\r\n      }\r\n    }\r\n    \r\n    setPeerStatus(status);\r\n  };\r\n\r\n  const getPeerInfo = (peer) => {\r\n    const port = peer.split(':')[2];\r\n    return {\r\n      name: `Peer ${parseInt(port) - 8000}`,\r\n      port: port,\r\n      url: peer\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n      <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">\r\n        Peer Network\r\n      </h2>\r\n      \r\n      <div className=\"space-y-3\">\r\n        {peers.map((peer) => {\r\n          const info = getPeerInfo(peer);\r\n          const isSelected = selectedPeers.includes(peer);\r\n          const status = peerStatus[peer] || 'checking';\r\n          \r\n          return (\r\n            <div\r\n              key={peer}\r\n              className={`border rounded-lg p-3 cursor-pointer transition-all ${\r\n                isSelected\r\n                  ? 'border-primary-500 bg-primary-50'\r\n                  : 'border-gray-200 hover:border-gray-300'\r\n              }`}\r\n              onClick={() => onPeerToggle(peer)}\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={isSelected}\r\n                    onChange={() => onPeerToggle(peer)}\r\n                    className=\"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500\"\r\n                  />\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-900\">\r\n                      {info.name}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500\">\r\n                      Port: {info.port}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center\">\r\n                  <span\r\n                    className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\r\n                      status === 'online'\r\n                        ? 'bg-green-100 text-green-800'\r\n                        : status === 'offline'\r\n                        ? 'bg-red-100 text-red-800'\r\n                        : 'bg-yellow-100 text-yellow-800'\r\n                    }`}\r\n                  >\r\n                    <span\r\n                      className={`w-2 h-2 rounded-full mr-1 ${\r\n                        status === 'online'\r\n                          ? 'bg-green-400'\r\n                          : status === 'offline'\r\n                          ? 'bg-red-400'\r\n                          : 'bg-yellow-400'\r\n                      }`}\r\n                    />\r\n                    {status === 'checking' ? 'Checking...' : status}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      \r\n      <div className=\"mt-4 p-3 bg-gray-50 rounded-lg\">\r\n        <div className=\"text-sm text-gray-600\">\r\n          <div className=\"flex justify-between\">\r\n            <span>Selected Peers:</span>\r\n            <span className=\"font-medium\">{selectedPeers.length}</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span>Online Peers:</span>\r\n            <span className=\"font-medium text-green-600\">\r\n              {Object.values(peerStatus).filter(s => s === 'online').length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PeerManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}